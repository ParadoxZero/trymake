{% extends 'website/core/base-includes.html' %}
{% load staticfiles %}
{% block title %}
    <title>
        My-account | Trymake | Buy Electronic project equipment in India |
    </title>
{% endblock %}
{% block head %}
    <link rel="stylesheet" href="{% static 'website/core/css/my-account.css' %}">
    <script src="{% static 'website/core/my-account.js' %}"></script>
{% endblock %}

{% block body %}
    <body ng-app="my_account" ng-controller="get_order" ng-cloak>
        <div class="customer">
            <h2>Customer details</h2>
            <span>Name:</span>{{ customer.user.first_name }} {{ customer.user.last_name }}<br>
            <span>Email:</span>{{ customer.user.email }}<br>
            <span>Phone no:</span>{{ customer.phone }}<br>
            <form ng-click="update_profile()">
                {% csrf_token %}
                <a href="#">Update profile</a>
            </form>
            <form>
                {[form]}
            </form>
        </div>
        <div class="orders"  ng-init="get_list = {
                'n' : 5,
                'complete' : false,
                'canceled' : false,
                'chunk_number' : 0
            }">
            <h2>Your orders</h2>
            <button ng-click="view_orders(get_list) ;
                get_list['chunk_number'] = get_list['chunk_number']+1">
                Recent orders {[get_list['chunk_number']]}
            </button>
            <button ng-click="get_list['n'] = 50 ;
            view_orders(get_list_all)"> View all orders {[get_list['n']]}</button>
            <br>{[return_list]}
            <div ng-show="!return_list">

                {{ orders }}
            </div>
        </div>
        <div class="complaints">
            <h2>Complaints</h2>
            {{ complaints }}
        </div>

    </body>
{% endblock %}

